{
  "id": "dc3dd857-31cb-4ba5-9f80-b7a1c4ef55c5",
  "image": "ghcr.io/nersc/interactem/distiller-grabber:latest",
  "label": "Counted Data From Distiller",
  "description": "Client that connects to the streaming pipeline state server, grabs frames from the distiller pipeline, and sends out frames of data.",
  "outputs": [
    {
      "name": "counted_data",
      "label": "Counted Data",
      "type": "sparse_frame",
      "description": "Sparse frame of counted data"
    }
  ],
  "parameters": [
    {
      "name": "pub_address",
      "label": "Publisher Address",
      "type": "str",
      "default": "tcp://localhost:7082",
      "description": "Address of the publisher",
      "required": true
    },
    {
      "name": "override_data_enable",
      "label": "Override data address?",
      "type": "bool",
      "default": false,
      "description": "True if we are going to use a custom address to receive data.",
      "required": true
    },
    {
      "name": "override_data_addr",
      "label": "Override Data TCP address",
      "type": "str",
      "default": "tcp://localhost:17000",
      "description": "Use custom address to receive data",
      "required": false
    },
    {
      "name": "enable_sparse_array",
      "label": "Enable SparseArray Support",
      "type": "bool",
      "default": false,
      "description": "Enable receiving full SparseArray datasets (legacy format). When disabled, only BatchedFrames streaming format is supported.",
      "required": false
    },
    {
      "name": "batch_size_mb",
      "label": "Batch Size (MB)",
      "type": "float",
      "default": 1.0,
      "description": "Maximum batch size in MB when converting SparseArray to batched frames. Only used when SparseArray support is enabled.",
      "required": false
    }
  ]
}
