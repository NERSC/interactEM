{
  "id": "17460a60-01ac-4144-aa32-126bd62667aa",
  "label": "quantem direct ptycho",
  "description": "Use quantem to calculate direct ptychography reconstructions from counted data.",
  "image": "ghcr.io/nersc/interactem/quantem-direct-ptycho:latest",
  "inputs": [
    {
      "name": "counted_data",
      "label": "Counted data",
      "description": "Sparse frames of counted data",
      "type": "BatchedFrames"
    }
  ],
  "outputs": [
    {
      "name": "datacube",
      "label": "Datacube",
      "description": "Datacube output",
      "type": "bytes"
    }
  ],
  "parameters": [
    {
      "name": "calculation_frequency",
      "label": "Calculation Frequency",
      "type": "int",
      "default": "100",
      "description": "Number of frames to accumulate before recalculating the center and emitting a BF image.",
      "required": true
    },
    {
      "name": "max_concurrent_scans",
      "label": "Max Concurrent Scans",
      "type": "int",
      "default": "1",
      "description": "Maximum number of scans to keep in memory simultaneously. Oldest scans are evicted when this limit is exceeded.",
      "required": false
    },
   {  
      "name": "accelerating_voltage",
      "label": "Accelerating voltage",
      "type": "int",
      "default": "300000",
      "description": "The accelerating voltage of the microscope in V.",
      "required": false
    },
    {  
      "name": "probe_semiangle",
      "label": "STEM probe semiangle",
      "type": "float",
      "default": "25",
      "description": "The probe semiangle in mrad.",
      "required": false
    },
    {  
      "name": "probe_step_size",
      "label": "STEM probe step size",
      "type": "float",
      "default": "0.1",
      "description": "The STEM probe step size in nm.",
      "required": false
    },
    {  
      "name": "initial_defocus",
      "label": "Initial STEM defocus for optimization routine",
      "type": "float",
      "default": "0.0",
      "description": "The STEM defocus in nm.",
      "required": false
    },
    {  
      "name": "diffraction_rotation_angle",
      "label": "Initial diffraction pattern rotation angle for optimization routine",
      "type": "float",
      "default": "0.0",
      "description": "The rotation angle in degrees.",
      "required": false
    }
  ],
  "parallel_config": {
    "type": "none"
  },
  "tags": [
    "gpu"
  ]
}
