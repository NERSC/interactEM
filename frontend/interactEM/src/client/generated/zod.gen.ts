// This file is auto-generated by @hey-api/openapi-ts

import { z } from "zod"

export const zAgentCreateEvent = z.object({
  machine: z.enum(["dtn01", "dtns", "perlmutter"]),
  duration: z.string(),
  compute_type: z.enum(["gpu", "cpu"]),
  num_nodes: z.number().int(),
  extra: z.union([z.object({}), z.null()]).optional(),
})

export const zBodyLoginLoginAccessToken = z.object({
  grant_type: z.union([z.string().regex(/^password$/), z.null()]).optional(),
  username: z.string(),
  password: z.string(),
  scope: z.string().optional().default(""),
  client_id: z.union([z.string(), z.null()]).optional(),
  client_secret: z.union([z.string(), z.null()]).optional(),
})

export const zComputeType = z.enum(["gpu", "cpu"])

export const zHttpValidationError = z.object({
  detail: z
    .array(
      z.object({
        loc: z.array(z.unknown()),
        msg: z.string(),
        type: z.string(),
      }),
    )
    .optional(),
})

export const zMessage = z.object({
  message: z.string(),
})

export const zNewPassword = z.object({
  token: z.string(),
  new_password: z.string().min(8).max(40),
})

export const zOperator = z.object({
  id: z.string().uuid(),
  label: z.string(),
  description: z.string(),
  image: z.string(),
  inputs: z
    .union([
      z.array(
        z.object({
          label: z.string(),
          description: z.string(),
        }),
      ),
      z.null(),
    ])
    .optional(),
  outputs: z
    .union([
      z.array(
        z.object({
          label: z.string(),
          description: z.string(),
        }),
      ),
      z.null(),
    ])
    .optional(),
  parameters: z
    .union([
      z.array(
        z.object({
          name: z.string(),
          label: z.string(),
          description: z.string(),
          type: z.enum(["str", "int", "float", "bool", "mount", "str-enum"]),
          default: z.string(),
          required: z.boolean(),
          value: z.union([z.string(), z.null()]).optional(),
          options: z.union([z.array(z.string()), z.null()]).optional(),
        }),
      ),
      z.null(),
    ])
    .optional(),
  tags: z
    .union([
      z.array(
        z.object({
          value: z.string(),
          description: z.union([z.string(), z.null()]).optional(),
        }),
      ),
      z.null(),
    ])
    .optional(),
})

export const zOperatorInput = z.object({
  label: z.string(),
  description: z.string(),
})

export const zOperatorOutput = z.object({
  label: z.string(),
  description: z.string(),
})

export const zOperatorParameter = z.object({
  name: z.string(),
  label: z.string(),
  description: z.string(),
  type: z.enum(["str", "int", "float", "bool", "mount", "str-enum"]),
  default: z.string(),
  required: z.boolean(),
  value: z.union([z.string(), z.null()]).optional(),
  options: z.union([z.array(z.string()), z.null()]).optional(),
})

export const zOperatorTag = z.object({
  value: z.string(),
  description: z.union([z.string(), z.null()]).optional(),
})

export const zOperators = z.object({
  data: z.array(zOperator),
})

export const zParameterType = z.enum([
  "str",
  "int",
  "float",
  "bool",
  "mount",
  "str-enum",
])

export const zPipelineCreate = z.object({
  data: z.object({}),
})

export const zPipelineDeploymentCreate = z.object({
  pipeline_id: z.string().uuid(),
  revision_id: z.number().int(),
})

export const zPipelineDeploymentPublic = z.object({
  id: z.string().uuid(),
  pipeline_id: z.string().uuid(),
  revision_id: z.number().int(),
  state: z.enum(["pending", "failed_to_start", "running", "cancelled"]),
  created_at: z.string().datetime(),
  updated_at: z.string().datetime(),
})

export const zPipelineDeploymentState = z.enum([
  "pending",
  "failed_to_start",
  "running",
  "cancelled",
])

export const zPipelineDeploymentUpdate = z.object({
  state: zPipelineDeploymentState,
})

export const zPipelineDeploymentsPublic = z.object({
  data: z.array(zPipelineDeploymentPublic),
  count: z.number().int(),
})

export const zPipelinePublic = z.object({
  name: z.union([z.string().max(128), z.null()]).optional(),
  data: z.object({}),
  id: z.string().uuid(),
  owner_id: z.string().uuid(),
  updated_at: z.string().datetime(),
  created_at: z.string().datetime(),
  current_revision_id: z.number().int(),
})

export const zPipelineRevisionCreate = z.object({
  data: z.object({}),
})

export const zPipelineRevisionPublic = z.object({
  pipeline_id: z.string().uuid(),
  revision_id: z.number().int(),
  data: z.object({}),
  tag: z.union([z.string(), z.null()]),
  created_at: z.string().datetime(),
})

export const zPipelineRevisionUpdate = z.object({
  tag: z.union([z.string().max(128), z.null()]).optional(),
})

export const zPipelineUpdate = z.object({
  name: z.union([z.string().max(128), z.null()]),
})

export const zPipelinesPublic = z.object({
  data: z.array(zPipelinePublic),
  count: z.number().int(),
})

export const zPublicHost = z.enum(["dtn01", "dtns", "perlmutter"])

export const zToken = z.object({
  access_token: z.string(),
  token_type: z.string().optional().default("bearer"),
  nats_jwt: z.string(),
})

export const zUpdatePassword = z.object({
  current_password: z.string().min(8).max(40),
  new_password: z.string().min(8).max(40),
})

export const zUserCreate = z.object({
  email: z.string().email().max(255),
  is_active: z.boolean().optional().default(true),
  is_superuser: z.boolean().optional().default(false),
  is_external: z.boolean().optional().default(false),
  full_name: z.union([z.string().max(255), z.null()]).optional(),
  password: z.string().min(8).max(40),
})

export const zUserPublic = z.object({
  email: z.string().email().max(255),
  is_active: z.boolean().optional().default(true),
  is_superuser: z.boolean().optional().default(false),
  is_external: z.boolean().optional().default(false),
  full_name: z.union([z.string().max(255), z.null()]).optional(),
  id: z.string().uuid(),
})

export const zUserRegister = z.object({
  email: z.string().email().max(255),
  password: z.string().min(8).max(40),
  full_name: z.union([z.string().max(255), z.null()]).optional(),
})

export const zUserUpdate = z.object({
  email: z.union([z.string().email().max(255), z.null()]).optional(),
  is_active: z.boolean().optional().default(true),
  is_superuser: z.boolean().optional().default(false),
  is_external: z.boolean().optional().default(false),
  full_name: z.union([z.string().max(255), z.null()]).optional(),
  password: z.union([z.string().min(8).max(40), z.null()]).optional(),
})

export const zUserUpdateMe = z.object({
  full_name: z.union([z.string().max(255), z.null()]).optional(),
  email: z.union([z.string().email().max(255), z.null()]).optional(),
})

export const zUsersPublic = z.object({
  data: z.array(zUserPublic),
  count: z.number().int(),
})

export const zValidationError = z.object({
  loc: z.array(z.unknown()),
  msg: z.string(),
  type: z.string(),
})

export const zLoginLoginAccessTokenResponse = zToken

export const zLoginLoginWithExternalTokenResponse = zToken

export const zLoginTestTokenResponse = zUserPublic

export const zLoginRecoverPasswordResponse = zMessage

export const zLoginResetPasswordResponse = zMessage

export const zLoginRecoverPasswordHtmlContentResponse = z.string()

export const zUsersReadUsersResponse = zUsersPublic

export const zUsersCreateUserResponse = zUserPublic

export const zUsersDeleteUserMeResponse = zMessage

export const zUsersReadUserMeResponse = zUserPublic

export const zUsersUpdateUserMeResponse = zUserPublic

export const zUsersUpdatePasswordMeResponse = zMessage

export const zUsersRegisterUserResponse = zUserPublic

export const zUsersDeleteUserResponse = zMessage

export const zUsersReadUserByIdResponse = zUserPublic

export const zUsersUpdateUserResponse = zUserPublic

export const zUtilsTestEmailResponse = zMessage

export const zPipelinesReadPipelinesResponse = zPipelinesPublic

export const zPipelinesCreatePipelineResponse = zPipelinePublic

export const zPipelinesDeletePipelineResponse = zMessage

export const zPipelinesReadPipelineResponse = zPipelinePublic

export const zPipelinesUpdatePipelineResponse = zPipelinePublic

export const zPipelinesListPipelineRevisionsResponse = z.array(
  zPipelineRevisionPublic,
)

export const zPipelinesAddPipelineRevisionResponse = zPipelineRevisionPublic

export const zPipelinesReadPipelineRevisionResponse = zPipelineRevisionPublic

export const zPipelinesUpdatePipelineRevisionResponse = zPipelineRevisionPublic

export const zPipelinesListPipelineDeploymentsResponse =
  zPipelineDeploymentsPublic

export const zPipelinesListPipelineRevisionDeploymentsResponse =
  zPipelineDeploymentsPublic

export const zDeploymentsListPipelineDeploymentsResponse =
  zPipelineDeploymentsPublic

export const zDeploymentsCreatePipelineDeploymentResponse =
  zPipelineDeploymentPublic

export const zDeploymentsReadPipelineDeploymentResponse =
  zPipelineDeploymentPublic

export const zDeploymentsUpdatePipelineDeploymentResponse =
  zPipelineDeploymentPublic

export const zOperatorsReadOperatorsResponse = zOperators
