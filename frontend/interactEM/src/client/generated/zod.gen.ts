// This file is auto-generated by @hey-api/openapi-ts

import { z } from 'zod';

/**
 * Body_login-login_access_token
 */
export const zBodyLoginLoginAccessToken = z.object({
    grant_type: z.union([
        z.string().regex(/^password$/),
        z.null()
    ]).optional(),
    username: z.string(),
    password: z.string(),
    scope: z.string().optional().default(''),
    client_id: z.union([
        z.string(),
        z.null()
    ]).optional(),
    client_secret: z.union([
        z.string(),
        z.null()
    ]).optional()
});

/**
 * CanonicalEdge
 */
export const zCanonicalEdge = z.object({
    input_id: z.string().uuid(),
    output_id: z.string().uuid()
});

/**
 * ComputeType
 */
export const zComputeType = z.enum(['gpu', 'cpu']);

/**
 * DeploymentEventType
 */
export const zDeploymentEventType = z.enum([
    'deployment_run',
    'deployment_stop',
    'deployment_update',
    'deployment_assignments',
    'operator_restart'
]);

/**
 * Message
 */
export const zMessage = z.object({
    message: z.string()
});

/**
 * NodeType
 */
export const zNodeType = z.enum(['operator', 'port']);

/**
 * OperatorEventCreate
 */
export const zOperatorEventCreate = z.object({
    type: zDeploymentEventType
});

/**
 * OperatorPosition
 *
 * Position metadata for an operator on the canvas.
 */
export const zOperatorPosition = z.object({
    canonical_operator_id: z.string().uuid(),
    x: z.number(),
    y: z.number()
});

/**
 * OperatorSpecInput
 */
export const zOperatorSpecInput = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.string()
});

/**
 * OperatorSpecOutput
 */
export const zOperatorSpecOutput = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.string()
});

/**
 * OperatorSpecParameterBoolean
 */
export const zOperatorSpecParameterBoolean = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('bool'),
    default: z.boolean(),
    required: z.boolean()
});

/**
 * OperatorSpecParameterFloat
 */
export const zOperatorSpecParameterFloat = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('float'),
    default: z.number(),
    required: z.boolean()
});

/**
 * OperatorSpecParameterInteger
 */
export const zOperatorSpecParameterInteger = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('int'),
    default: z.number().int(),
    required: z.boolean()
});

/**
 * OperatorSpecParameterMount
 */
export const zOperatorSpecParameterMount = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('mount'),
    default: z.string(),
    required: z.boolean()
});

/**
 * OperatorSpecParameterStrEnum
 */
export const zOperatorSpecParameterStrEnum = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('str-enum'),
    default: z.string(),
    required: z.boolean(),
    options: z.array(z.string())
});

/**
 * OperatorSpecParameterString
 */
export const zOperatorSpecParameterString = z.object({
    name: z.string(),
    label: z.string(),
    description: z.string(),
    type: z.literal('str'),
    default: z.string(),
    required: z.boolean()
});

/**
 * OperatorSpecParameter
 */
export const zOperatorSpecParameter = z.union([
    z.object({
        type: z.literal('str')
    }).and(zOperatorSpecParameterString),
    z.object({
        type: z.literal('mount')
    }).and(zOperatorSpecParameterMount),
    z.object({
        type: z.literal('int')
    }).and(zOperatorSpecParameterInteger),
    z.object({
        type: z.literal('float')
    }).and(zOperatorSpecParameterFloat),
    z.object({
        type: z.literal('bool')
    }).and(zOperatorSpecParameterBoolean),
    z.object({
        type: z.literal('str-enum')
    }).and(zOperatorSpecParameterStrEnum)
]);

/**
 * OperatorSpecTag
 */
export const zOperatorSpecTag = z.object({
    value: z.string(),
    description: z.union([
        z.string(),
        z.null()
    ]).optional()
});

/**
 * ParallelType
 */
export const zParallelType = z.enum(['none', 'embarrassing']);

/**
 * ParallelConfig
 */
export const zParallelConfig = z.object({
    type: zParallelType.optional().default('none')
});

/**
 * PipelineCreate
 */
export const zPipelineCreate = z.object({
    data: z.record(z.unknown())
});

/**
 * PipelineDeploymentCreate
 */
export const zPipelineDeploymentCreate = z.object({
    pipeline_id: z.string().uuid(),
    revision_id: z.number().int()
});

/**
 * PipelineDeploymentState
 */
export const zPipelineDeploymentState = z.enum([
    'pending',
    'assigned_agents',
    'failed_to_start',
    'failure_on_agent',
    'running',
    'cancelled'
]);

/**
 * PipelineDeploymentPublic
 */
export const zPipelineDeploymentPublic = z.object({
    id: z.string().uuid(),
    pipeline_id: z.string().uuid(),
    revision_id: z.number().int(),
    state: zPipelineDeploymentState,
    created_at: z.string().datetime(),
    updated_at: z.string().datetime()
});

/**
 * PipelineDeploymentUpdate
 */
export const zPipelineDeploymentUpdate = z.object({
    state: zPipelineDeploymentState
});

/**
 * PipelineDeploymentsPublic
 */
export const zPipelineDeploymentsPublic = z.object({
    data: z.array(zPipelineDeploymentPublic),
    count: z.number().int()
});

/**
 * PipelineRevisionCreate
 */
export const zPipelineRevisionCreate = z.object({
    data: z.record(z.unknown())
});

/**
 * PipelineRevisionPositionsUpdate
 */
export const zPipelineRevisionPositionsUpdate = z.object({
    positions: z.array(zOperatorPosition)
});

/**
 * PipelineRevisionUpdate
 */
export const zPipelineRevisionUpdate = z.object({
    tag: z.union([
        z.string().max(128),
        z.null()
    ]).optional()
});

/**
 * PipelineUpdate
 */
export const zPipelineUpdate = z.object({
    name: z.union([
        z.string().max(128),
        z.null()
    ])
});

/**
 * PortType
 */
export const zPortType = z.enum(['input', 'output']);

/**
 * CanonicalPort
 */
export const zCanonicalPort = z.object({
    id: z.string().uuid(),
    node_type: zNodeType.optional().default('port'),
    port_type: zPortType,
    canonical_operator_id: z.string().uuid(),
    portkey: z.string()
});

/**
 * PublicHost
 */
export const zPublicHost = z.enum([
    'dtn01',
    'dtns',
    'perlmutter'
]);

/**
 * AgentCreateEvent
 */
export const zAgentCreateEvent = z.object({
    machine: zPublicHost,
    duration: z.string(),
    compute_type: zComputeType,
    num_nodes: z.number().int(),
    extra: z.union([
        z.record(z.unknown()),
        z.null()
    ]).optional()
});

/**
 * Token
 */
export const zToken = z.object({
    access_token: z.string(),
    token_type: z.string().optional().default('bearer'),
    nats_jwt: z.string()
});

/**
 * TriggerInvocationMode
 */
export const zTriggerInvocationMode = z.enum(['single', 'drain']);

/**
 * OperatorSpecTrigger
 */
export const zOperatorSpecTrigger = z.object({
    name: z.string(),
    label: z.string(),
    description: z.union([
        z.string(),
        z.null()
    ]).optional(),
    mode: zTriggerInvocationMode.optional().default('single')
});

/**
 * CanonicalOperator
 */
export const zCanonicalOperator = z.object({
    id: z.string().uuid(),
    label: z.string(),
    description: z.string(),
    image: z.string(),
    inputs: z.array(z.string().uuid()).optional().default([]),
    outputs: z.array(z.string().uuid()).optional().default([]),
    parameters: z.union([
        z.array(zOperatorSpecParameter),
        z.null()
    ]).optional(),
    tags: z.array(zOperatorSpecTag).optional().default([]),
    parallel_config: z.union([
        zParallelConfig,
        z.null()
    ]).optional(),
    triggers: z.union([
        z.array(zOperatorSpecTrigger),
        z.null()
    ]).optional(),
    spec_id: z.string().uuid(),
    node_type: zNodeType.optional().default('operator')
});

/**
 * CanonicalPipelineData
 */
export const zCanonicalPipelineData = z.object({
    operators: z.array(zCanonicalOperator).optional().default([]),
    ports: z.array(zCanonicalPort).optional().default([]),
    edges: z.array(zCanonicalEdge).optional().default([])
});

/**
 * OperatorSpec
 */
export const zOperatorSpec = z.object({
    id: z.string().uuid(),
    label: z.string(),
    description: z.string(),
    image: z.string(),
    inputs: z.union([
        z.array(zOperatorSpecInput),
        z.null()
    ]).optional(),
    outputs: z.union([
        z.array(zOperatorSpecOutput),
        z.null()
    ]).optional(),
    parameters: z.union([
        z.array(zOperatorSpecParameter),
        z.null()
    ]).optional(),
    tags: z.union([
        z.array(zOperatorSpecTag),
        z.null()
    ]).optional(),
    parallel_config: z.union([
        zParallelConfig,
        z.null()
    ]).optional(),
    triggers: z.union([
        z.array(zOperatorSpecTrigger),
        z.null()
    ]).optional()
});

/**
 * OperatorSpecs
 */
export const zOperatorSpecs = z.object({
    data: z.array(zOperatorSpec)
});

/**
 * PipelinePublic
 */
export const zPipelinePublic = z.object({
    name: z.union([
        z.string().max(128),
        z.null()
    ]).optional().default('New Pipeline'),
    data: zCanonicalPipelineData,
    id: z.string().uuid(),
    owner_id: z.string().uuid(),
    updated_at: z.string().datetime(),
    created_at: z.string().datetime(),
    current_revision_id: z.number().int()
});

/**
 * PipelineRevisionPublic
 */
export const zPipelineRevisionPublic = z.object({
    pipeline_id: z.string().uuid(),
    revision_id: z.number().int(),
    data: zCanonicalPipelineData,
    tag: z.union([
        z.string(),
        z.null()
    ]),
    positions: z.array(zOperatorPosition),
    created_at: z.string().datetime()
});

/**
 * PipelinesPublic
 */
export const zPipelinesPublic = z.object({
    data: z.array(zPipelinePublic),
    count: z.number().int()
});

/**
 * UpdatePassword
 */
export const zUpdatePassword = z.object({
    current_password: z.string().min(8).max(40),
    new_password: z.string().min(8).max(40)
});

/**
 * UserCreate
 */
export const zUserCreate = z.object({
    username: z.string().max(255),
    is_active: z.boolean().optional().default(true),
    is_superuser: z.boolean().optional().default(false),
    is_external: z.boolean().optional().default(false),
    full_name: z.union([
        z.string().max(255),
        z.null()
    ]).optional(),
    password: z.string().min(8).max(40)
});

/**
 * UserPublic
 */
export const zUserPublic = z.object({
    username: z.string().max(255),
    is_active: z.boolean().optional().default(true),
    is_superuser: z.boolean().optional().default(false),
    is_external: z.boolean().optional().default(false),
    full_name: z.union([
        z.string().max(255),
        z.null()
    ]).optional(),
    id: z.string().uuid()
});

/**
 * UserUpdate
 */
export const zUserUpdate = z.object({
    username: z.union([
        z.string().max(255),
        z.null()
    ]).optional(),
    is_active: z.boolean().optional().default(true),
    is_superuser: z.boolean().optional().default(false),
    is_external: z.boolean().optional().default(false),
    full_name: z.union([
        z.string().max(255),
        z.null()
    ]).optional(),
    password: z.union([
        z.string().min(8).max(40),
        z.null()
    ]).optional()
});

/**
 * UserUpdateMe
 */
export const zUserUpdateMe = z.object({
    full_name: z.union([
        z.string().max(255),
        z.null()
    ]).optional(),
    username: z.union([
        z.string().max(255),
        z.null()
    ]).optional()
});

/**
 * UsersPublic
 */
export const zUsersPublic = z.object({
    data: z.array(zUserPublic),
    count: z.number().int()
});

/**
 * ValidationError
 */
export const zValidationError = z.object({
    loc: z.array(z.union([z.string(), z.number().int()])),
    msg: z.string(),
    type: z.string()
});

/**
 * HTTPValidationError
 */
export const zHttpValidationError = z.object({
    detail: z.array(zValidationError).optional()
});

export const zLoginLoginAccessTokenData = z.object({
    body: zBodyLoginLoginAccessToken,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zLoginLoginAccessTokenResponse = zToken;

export const zLoginLoginWithExternalTokenData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zLoginLoginWithExternalTokenResponse = zToken;

export const zLoginTestTokenData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zLoginTestTokenResponse = zUserPublic;

export const zUsersReadUsersData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.object({
        skip: z.number().int().optional().default(0),
        limit: z.number().int().optional().default(100)
    }).optional()
});

/**
 * Successful Response
 */
export const zUsersReadUsersResponse = zUsersPublic;

export const zUsersCreateUserData = z.object({
    body: zUserCreate,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersCreateUserResponse = zUserPublic;

export const zUsersDeleteUserMeData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersDeleteUserMeResponse = zMessage;

export const zUsersReadUserMeData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersReadUserMeResponse = zUserPublic;

export const zUsersUpdateUserMeData = z.object({
    body: zUserUpdateMe,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersUpdateUserMeResponse = zUserPublic;

export const zUsersUpdatePasswordMeData = z.object({
    body: zUpdatePassword,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersUpdatePasswordMeResponse = zMessage;

export const zUsersDeleteUserData = z.object({
    body: z.never().optional(),
    path: z.object({
        user_id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersDeleteUserResponse = zMessage;

export const zUsersReadUserByIdData = z.object({
    body: z.never().optional(),
    path: z.object({
        user_id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersReadUserByIdResponse = zUserPublic;

export const zUsersUpdateUserData = z.object({
    body: zUserUpdate,
    path: z.object({
        user_id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zUsersUpdateUserResponse = zUserPublic;

export const zPipelinesReadPipelinesData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.object({
        offset: z.number().int().gte(0).optional().default(0),
        limit: z.number().int().gte(1).lte(200).optional().default(100)
    }).optional()
});

/**
 * Successful Response
 */
export const zPipelinesReadPipelinesResponse = zPipelinesPublic;

export const zPipelinesCreatePipelineData = z.object({
    body: zPipelineCreate,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesCreatePipelineResponse = zPipelinePublic;

export const zPipelinesDeletePipelineData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesDeletePipelineResponse = zMessage;

export const zPipelinesReadPipelineData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesReadPipelineResponse = zPipelinePublic;

export const zPipelinesUpdatePipelineData = z.object({
    body: zPipelineUpdate,
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesUpdatePipelineResponse = zPipelinePublic;

export const zPipelinesListPipelineRevisionsData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.object({
        offset: z.number().int().gte(0).optional().default(0),
        limit: z.number().int().gte(1).lte(100).optional().default(20)
    }).optional()
});

/**
 * Response Pipelines-List Pipeline Revisions
 *
 * Successful Response
 */
export const zPipelinesListPipelineRevisionsResponse = z.array(zPipelineRevisionPublic);

export const zPipelinesAddPipelineRevisionData = z.object({
    body: zPipelineRevisionCreate,
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesAddPipelineRevisionResponse = zPipelineRevisionPublic;

export const zPipelinesReadPipelineRevisionData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid(),
        revision_id: z.number().int()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesReadPipelineRevisionResponse = zPipelineRevisionPublic;

export const zPipelinesUpdatePipelineRevisionData = z.object({
    body: zPipelineRevisionUpdate,
    path: z.object({
        id: z.string().uuid(),
        revision_id: z.number().int()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesUpdatePipelineRevisionResponse = zPipelineRevisionPublic;

export const zPipelinesUpdatePipelineRevisionPositionsData = z.object({
    body: zPipelineRevisionPositionsUpdate,
    path: z.object({
        id: z.string().uuid(),
        revision_id: z.number().int()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesUpdatePipelineRevisionPositionsResponse = zPipelineRevisionPublic;

export const zPipelinesDuplicatePipelineData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zPipelinesDuplicatePipelineResponse = zPipelinePublic;

export const zPipelinesListPipelineDeploymentsData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.object({
        offset: z.number().int().gte(0).optional().default(0),
        limit: z.number().int().gte(1).lte(100).optional().default(20)
    }).optional()
});

/**
 * Successful Response
 */
export const zPipelinesListPipelineDeploymentsResponse = zPipelineDeploymentsPublic;

export const zPipelinesListPipelineRevisionDeploymentsData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid(),
        revision_id: z.number().int()
    }),
    query: z.object({
        offset: z.number().int().gte(0).optional().default(0),
        limit: z.number().int().gte(1).lte(100).optional().default(20)
    }).optional()
});

/**
 * Successful Response
 */
export const zPipelinesListPipelineRevisionDeploymentsResponse = zPipelineDeploymentsPublic;

export const zDeploymentsListPipelineDeploymentsData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.object({
        offset: z.number().int().gte(0).optional().default(0),
        limit: z.number().int().gte(1).optional().default(100),
        states: z.union([
            z.array(zPipelineDeploymentState),
            z.null()
        ]).optional(),
        pipeline_id: z.union([
            z.string().uuid(),
            z.null()
        ]).optional()
    }).optional()
});

/**
 * Successful Response
 */
export const zDeploymentsListPipelineDeploymentsResponse = zPipelineDeploymentsPublic;

export const zDeploymentsCreatePipelineDeploymentData = z.object({
    body: zPipelineDeploymentCreate,
    path: z.never().optional(),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zDeploymentsCreatePipelineDeploymentResponse = zPipelineDeploymentPublic;

export const zDeploymentsReadPipelineDeploymentData = z.object({
    body: z.never().optional(),
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zDeploymentsReadPipelineDeploymentResponse = zPipelineDeploymentPublic;

export const zDeploymentsUpdatePipelineDeploymentData = z.object({
    body: zPipelineDeploymentUpdate,
    path: z.object({
        id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zDeploymentsUpdatePipelineDeploymentResponse = zPipelineDeploymentPublic;

export const zDeploymentsCreateOperatorEventData = z.object({
    body: zOperatorEventCreate,
    path: z.object({
        id: z.string().uuid(),
        canonical_operator_id: z.string().uuid()
    }),
    query: z.never().optional()
});

/**
 * Successful Response
 */
export const zDeploymentsCreateOperatorEventResponse = zMessage;

export const zOperatorsReadOperatorsData = z.object({
    body: z.never().optional(),
    path: z.never().optional(),
    query: z.object({
        refresh: z.boolean().optional().default(false)
    }).optional()
});

/**
 * Successful Response
 */
export const zOperatorsReadOperatorsResponse = zOperatorSpecs;

export const zAgentsLaunchAgentData = z.object({
    body: zAgentCreateEvent,
    path: z.never().optional(),
    query: z.never().optional()
});
